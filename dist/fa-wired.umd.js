!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).FaWired=i()}(this,(function(){"use strict";
/*!
 * fa-wired v1.0.0
 * Fathom Analytics Alpine.js wrapper for Laravel/Livewire
 * (c) 2025 kerkness
 * Released under the MIT License
 * https://github.com/kerkness/fa-wired
 */
/*!
   * fa-wired - Fathom Analytic Events for Laravel/Livewire
   * https://github.com/kerkness/fa-wired
   */const e="1.0.0",i={version:e,buildDate:"2025-05-28T18:23:21.992Z",init(){"undefined"!=typeof document?("undefined"!=typeof Alpine?this.initializeAlpine():document.addEventListener("alpine:init",(()=>{this.initializeAlpine()})),"undefined"!=typeof Livewire?this.initializeLivewire():document.addEventListener("livewire:init",(()=>{this.initializeLivewire()})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{this.initializeAutoTracking()})):this.initializeAutoTracking()):console.warn("fa-wired: Document not available, skipping initialization")},initializeAlpine(){Alpine.store("fathom",{track(e,i=null){if("undefined"==typeof fathom)return void console.warn("fa-wired: Fathom Analytics not loaded");const t=i?{_value:i}:{};fathom.trackEvent(e,t)},click(e,i=null){this.track(e,i)},submit(e,i=null){this.track(e,i)},conversion(e,i){this.track(e,i)},download(e,i=null){const t=i||`file download: ${e}`;this.track(t)},externalLink(e,i=null){const t=i||`external link: ${e}`;this.track(t)}}),Alpine.magic("fathom",(()=>Alpine.store("fathom"))),Alpine.directive("track-click",((e,{expression:i},{evaluate:t})=>{const n=t(i),o="string"==typeof n?n:n.event,a="object"==typeof n?n.value:null;e.addEventListener("click",(()=>{Alpine.store("fathom").click(o,a)}))})),Alpine.directive("track-submit",((e,{expression:i},{evaluate:t})=>{const n=t(i),o="string"==typeof n?n:n.event,a="object"==typeof n?n.value:null;e.addEventListener("submit",(()=>{Alpine.store("fathom").submit(o,a)}))})),Alpine.directive("track-download",((e,{expression:i},{evaluate:t})=>{const n=t(i),o="string"==typeof n?n:n.event;e.addEventListener("click",(i=>{const t=e.getAttribute("href"),n=t?t.split("/").pop():"unknown";Alpine.store("fathom").download(n,o)}))})),Alpine.directive("track-external",((e,{expression:i},{evaluate:t})=>{const n=t(i),o="string"==typeof n?n:n.event;e.addEventListener("click",(i=>{const t=e.getAttribute("href");Alpine.store("fathom").externalLink(t,o)}))}))},initializeLivewire(){Livewire.on("fathom-track",(e=>{Alpine.store("fathom").track(e.event,e.value||null)})),Livewire.on("fathom-form-submit",(e=>{Alpine.store("fathom").submit(e.event,e.value||null)})),Livewire.on("fathom-conversion",(e=>{Alpine.store("fathom").conversion(e.event,e.value)}))},initializeAutoTracking(){var e,i;(null==(e=this.config)?void 0:e.autoTrackExternalLinks)&&document.querySelectorAll('a[href^="http"]:not([href*="'+window.location.hostname+'"])').forEach((e=>{e.addEventListener("click",(()=>{Alpine.store("fathom").externalLink(e.href)}))})),(null==(i=this.config)?void 0:i.autoTrackDownloads)&&document.querySelectorAll('a[href$=".pdf"], a[href$=".doc"], a[href$=".docx"], a[href$=".xls"], a[href$=".xlsx"]').forEach((e=>{e.addEventListener("click",(()=>{const i=e.href.split("/").pop();Alpine.store("fathom").download(i)}))}))},config:{autoTrackExternalLinks:!1,autoTrackDownloads:!1},configure(e){this.config={...this.config,...e}}};return"undefined"!=typeof window&&(window.FaWired=i,i.init(),"development"===process.env.NODE_ENV&&console.log(`fa-wired v${e} initialized`)),i}));
//# sourceMappingURL=fa-wired.umd.js.map
